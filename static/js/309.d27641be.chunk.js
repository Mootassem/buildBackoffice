(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[309],{1042:function(e,t,c){"use strict";var n=c(410);function i(){var e=Object(n.a)(["\n  margin: 0px;\n  margin-top: 16px;\n  padding: 24px;\n  border-radius: 5px;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  overflow-y: hidden;\n"]);return i=function(){return e},e}var a=c(411).a.div(i());t.a=a},1063:function(e,t,c){"use strict";var n=c(17),i=c(1064);c(6);t.a=function(e){return Object(n.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:Object(n.jsx)(i.a,{})})}},1515:function(e,t,c){"use strict";var n=c(4),i=c(29),a=c(51),r=c(198),s=Object(n.a)([i.a.selectCurrentTenant,i.a.selectCurrentUser],(function(e,t){return new a.a(e,t).match(r.a.values.mouvementRead)})),o=Object(n.a)([i.a.selectCurrentTenant,i.a.selectCurrentUser],(function(e,t){return new a.a(e,t).match(r.a.values.mouvementEdit)})),l=Object(n.a)([i.a.selectCurrentTenant,i.a.selectCurrentUser],(function(e,t){return new a.a(e,t).match(r.a.values.mouvementCreate)})),b=Object(n.a)([i.a.selectCurrentTenant,i.a.selectCurrentUser],(function(e,t){return new a.a(e,t).match(r.a.values.mouvementImport)})),u={selectPermissionToRead:s,selectPermissionToEdit:o,selectPermissionToCreate:l,selectPermissionToDestroy:Object(n.a)([i.a.selectCurrentTenant,i.a.selectCurrentUser],(function(e,t){return new a.a(e,t).match(r.a.values.mouvementDestroy)})),selectPermissionToImport:b};t.a=u},2115:function(e,t,c){"use strict";c.r(t);var n=c(423),i=c(17),a=c(1231),r=c(1123),s=c(1124),o=c(2022),l=c(6),b=c(39),u=c(2),j=c(46),d=c(1515),h=c(1622),p=c.n(h),O=c(126),m=function(e){var t={onClick:function(e,t){},title:{display:!0,text:Object(u.c)("common.contenuTheme")},tooltips:{mode:"label"},elements:{line:{fill:!1}},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},c=Object(l.useState)([0]),a=Object(n.a)(c,2),r=a[0],s=a[1],o=Object(l.useState)([0]),b=Object(n.a)(o,2),j=b[0],d=b[1],p=Object(l.useState)([""]),m=Object(n.a)(p,2),f=m[0],g=m[1],x=[0],v=[0],y=[""];Object(l.useEffect)((function(){O.a.list("","","","").then((function(e){e.count>0&&(e.rows.forEach((function(e){e.titleFR?y.push(e.titleFR):e.titleEN?y.push(e.titleEN):y.push(e.titleAR),v.push(e.publications.length)})),y.splice(0,1),v.splice(0,1),g(y),d(v))})),O.a.list("","","","").then((function(e){e.count>0&&(e.rows.forEach((function(e){x.push(e.evenements.length)})),x.splice(0,1),s(x))}))}),[]);var w={labels:f,datasets:[{type:"bar",label:Object(u.c)("entities.publication.menu"),backgroundColor:"rgba(197,029,052, 0.2)",borderColor:"rgba(197,029,052)",data:j,borderWidth:2,fill:!1},{type:"bar",label:Object(u.c)("entities.evenement.menu"),backgroundColor:"rgba(014,041,075, 0.2)",borderColor:"rgba(014,041,075)",data:r,borderWidth:2,fill:!1}]};return Object(i.jsx)(h.Bar,{data:w,options:t})},f=c(151),g=function(e){var t=Object(l.useState)([0]),c=Object(n.a)(t,2),a=c[0],r=c[1],s=Object(l.useState)([""]),o=Object(n.a)(s,2),b=o[0],j=o[1],d=Object(l.useState)([""]),p=Object(n.a)(d,2),O=p[0],m=p[1],g=[0],x=[""],v=[""],y=["#845EC2","#2C73D2","#0081CF","#0089BA","#008E9B","#008F7A"];Object(l.useEffect)((function(){f.a.list("","","","").then((function(e){e.count>0&&(e.rows.forEach((function(t){t.titleFR?x.push(t.titleFR):t.titleEN?x.push(t.titleEN):x.push(t.titleAR),g.push(t.publications.length);for(var c=0;c<=e.count;c++)y.map((function(e){return v.push(e)}))})),x.splice(0,1),g.splice(0,1),v.splice(0,1),j(x),r(g),m(v))}))}),[]);var w={responsive:!0,title:{display:!0,text:Object(u.c)("common.publicationTheme")},tooltips:{mode:"label"},elements:{line:{fill:!1}}},C={labels:b,datasets:[{data:a,backgroundColor:O,hoverBackgroundColor:O}]};return Object(i.jsx)(h.Doughnut,{data:C,options:w})},x=c(124),v=c(125),y=c(136),w=function(e){var t=Object(l.useState)(0),c=Object(n.a)(t,2),a=c[0],r=c[1],s=Object(l.useState)(0),o=Object(n.a)(s,2),b=o[0],u=o[1],j=Object(l.useState)(0),d=Object(n.a)(j,2),h=d[0],O=d[1];Object(l.useEffect)((function(){y.a.list("","","","").then((function(e){r(e.count)})),x.a.list("","","","").then((function(e){u(e.count)})),v.a.list("","","","").then((function(e){O(e.count)}))}),[]);var m={labels:["Demandes d'appui","Publications","Evenements"],datasets:[{label:"Nombre d`entit\xe9s",barPercentage:.5,backgroundColor:["#AD4E47","#6C1B06","#C84462"],borderWidth:1,hoverBackgroundColor:["#AD4E47","#6C1B06","#C84462"],data:[a,b,h]}]};return Object(i.jsx)(p.a,{type:"bar",data:m,options:{legend:{display:!0},scales:{xAxes:[{display:!0}],yAxes:[{display:!0,ticks:{beginAtZero:!0}}]}}})},C=c(127),T=function(e){var t=Object(l.useState)([0]),c=Object(n.a)(t,2),a=c[0],r=c[1],s=Object(l.useState)([""]),o=Object(n.a)(s,2),b=o[0],j=o[1],d=Object(l.useState)([""]),p=Object(n.a)(d,2),O=p[0],m=p[1],f=[0],g=[""],x=["#264653","#2A9D8F","#E9C46A","#F4A261","#E76F51"],v=[""];Object(l.useEffect)((function(){C.a.list("","","","").then((function(e){if(e.count>0){e.rows.forEach((function(e){e.titleFR?g.push(e.titleFR):e.titleEN?g.push(e.titleEN):g.push(e.titleAR),f.push(e.evenements.length)})),g.splice(0,1),f.splice(0,1);for(var t=0;t<=e.count;t++)x.map((function(e){return v.push(e)}));v.splice(0,1),j(g),r(f),m(v)}}))}),[]);var y={responsive:!0,title:{display:!0,text:Object(u.c)("common.evenementTheme")},tooltips:{mode:"label"},elements:{line:{fill:!1}}},w={labels:b,datasets:[{data:a,backgroundColor:O,hoverBackgroundColor:O}]};return Object(i.jsx)(h.Doughnut,{data:w,options:y})},E=c(1042),M=c(1063);t.default=function(e){var t=a.a.TabPane,c=function(e){},h=(Object(b.e)(d.a.selectPermissionToRead),Object(l.useState)(!1)),p=Object(n.a)(h,2),O=p[0],f=p[1],x=Object(l.useState)(!0),v=Object(n.a)(x,2),y=v[0],C=v[1];return Object(l.useEffect)((function(){j.a.fetchMe().then((function(e){e.tenants[0].roles.includes("admin_OST")&&f(!0),C(!1)}))}),[]),Object(i.jsx)(i.Fragment,{children:y?Object(i.jsx)(M.a,{}):Object(i.jsx)(i.Fragment,{children:O?Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(a.a,{defaultActiveKey:"1",onChange:c,children:[Object(i.jsx)(t,{tab:Object(u.c)("Actions-Suicides"),children:Object(i.jsx)("iframe",{title:"Actions&Suicides",width:"100%",height:"600",allowFullScreen:!0,src:"https://app.powerbi.com/view?r=eyJrIjoiYTI3YzMzY2MtNDljZi00NjA3LTkyMDgtMmZhZGI4ZjEzMzIyIiwidCI6ImEyYjI1MTExLWRmYzctNDNiMC1iNDYwLTJlMjc0ZDYyZTAzYiJ9"})},"1"),Object(i.jsx)(t,{tab:Object(u.c)("Action-Violences"),children:Object(i.jsx)("iframe",{title:"Action&violences",width:"100%",height:"600",allowFullScreen:!0,src:"https://app.powerbi.com/view?r=eyJrIjoiNjlhNWQzMDUtNjJiZi00ZWFlLTlkYmEtMGEyODMyNDkwYzc3IiwidCI6ImEyYjI1MTExLWRmYzctNDNiMC1iNDYwLTJlMjc0ZDYyZTAzYiJ9"})},"2"),Object(i.jsx)(t,{tab:Object(u.c)("Violence-Gouvernorats"),children:Object(i.jsx)("iframe",{title:"Violence&Gouvernorats",width:"100%",height:"600",allowFullScreen:!0,src:"https://app.powerbi.com/view?r=eyJrIjoiMzI1MTFjMWYtYmViYS00OTgwLTk3MTMtM2VlNDQxNWU5ZDg4IiwidCI6ImEyYjI1MTExLWRmYzctNDNiMC1iNDYwLTJlMjc0ZDYyZTAzYiJ9"})},"3"),Object(i.jsx)(t,{tab:Object(u.c)("Suicide-Gouvernorats"),children:Object(i.jsx)("iframe",{title:"Suicide&Gouvernorats",width:"100%",height:"600",allowFullScreen:!0,src:"https://app.powerbi.com/view?r=eyJrIjoiMDdiYzI0YmEtZDM4Ni00NmMyLWEwNDYtN2QyZWRlYTkzZmM0IiwidCI6ImEyYjI1MTExLWRmYzctNDNiMC1iNDYwLTJlMjc0ZDYyZTAzYiJ9"})},"4"),Object(i.jsx)(t,{tab:Object(u.c)("Action-Mouvement"),children:Object(i.jsx)("iframe",{title:"Action&Mouvement",width:"100%",height:"600",allowFullScreen:!0,src:"https://app.powerbi.com/view?r=eyJrIjoiMGZmZTg4NGYtZTFhNS00MDM3LTg0MjEtY2NmZmNhOWU2YTg2IiwidCI6ImEyYjI1MTExLWRmYzctNDNiMC1iNDYwLTJlMjc0ZDYyZTAzYiJ9"})},"5")]})}):Object(i.jsxs)(a.a,{defaultActiveKey:"1",onChange:c,children:[Object(i.jsx)(t,{tab:Object(u.c)("common.statistiques"),children:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(r.a,{gutter:24,children:[Object(i.jsx)(s.a,{span:12,children:Object(i.jsx)(o.a,{bodyStyle:{padding:4},children:Object(i.jsx)(g,{})})}),Object(i.jsx)(s.a,{span:12,children:Object(i.jsx)(o.a,{bodyStyle:{padding:4},children:Object(i.jsx)(T,{})})})]}),Object(i.jsxs)(r.a,{style:{marginTop:"16px"},gutter:24,children:[Object(i.jsx)(s.a,{span:12,children:Object(i.jsx)(o.a,{bodyStyle:{padding:4},children:Object(i.jsx)(w,{})})}),Object(i.jsx)(s.a,{span:12,children:Object(i.jsx)(o.a,{bodyStyle:{padding:4},children:Object(i.jsx)(m,{})})})]})]})},"1"),Object(i.jsx)(t,{tab:"Google Analytics Behaviors Overview",children:Object(i.jsx)(E.a,{children:Object(i.jsx)(o.a,{bodyStyle:{padding:4},children:Object(i.jsx)("iframe",{width:"100%",height:"700",src:"https://datastudio.google.com/embed/reporting/aaaef539-cac0-441f-b2bf-ece0ddf7de83/page/4VDGB",frameBorder:"0",style:{border:0},allowFullScreen:!0})})})},"2"),Object(i.jsx)(t,{tab:"Google Analytics Acquisition Overview",children:Object(i.jsx)(E.a,{children:Object(i.jsx)(o.a,{bodyStyle:{padding:4},children:Object(i.jsx)("iframe",{width:"100%",height:"700",src:"https://datastudio.google.com/embed/reporting/06c64a08-5fca-472e-b12d-d2ba105a917a/page/nXDGB",frameBorder:"0",style:{border:0},allowFullScreen:!0})})})},"3"),Object(i.jsx)(t,{tab:"Google Analytics Audience Overview",children:Object(i.jsx)(E.a,{children:Object(i.jsx)(o.a,{bodyStyle:{padding:4},children:Object(i.jsx)("iframe",{width:"100%",height:"700",src:"https://datastudio.google.com/embed/reporting/d108be90-2150-47e3-9883-3dc053dfa24e/page/tWDGB",frameBorder:"0",style:{border:0},allowFullScreen:!0})})})},"4")]})})})}}}]);